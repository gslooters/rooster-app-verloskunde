{
  "cacheBust": true,
  "timestamp": "2025-12-05T21:21:30Z",
  "draad": "111-SOLVER-FINAL",
  "reason": "nixpacks.toml conflicteerde met Dockerfile",
  "criticalFix": "nixpacks.toml VERWIJDERD - single source of truth",
  "rootCause": {
    "problem": "Railway gebruikte BEIDE configuraties tegelijk",
    "details": [
      "Dockerfile werd gebruikt voor BUILD (correct)",
      "nixpacks.toml werd gebruikt voor START command (conflict!)",
      "nixpacks.toml had shell form syntax",
      "Railway parseerde start command verkeerd",
      "Result: hostname=0.0.0.0 executable not found"
    ],
    "evidence": "Railway logs: 'found nixpacks.toml' + 'skipping Dockerfile for start'"
  },
  "fixes": [
    "FASE 1: railway.json VERWIJDERD (service conflict) - âœ… WERKEND",
    "FASE 2: Dockerfile CMD naar JSON exec form - âœ… CORRECT",
    "FASE 3: nixpacks.toml VERWIJDERD (start command conflict) - âœ… OPGELOST"
  ],
  "services": {
    "rooster-app": {
      "config": "railway.toml",
      "build": "Nixpacks (Next.js)",
      "status": "âœ… ONLINE & WERKEND"
    },
    "solver": {
      "config": "solver/docker/Dockerfile ALLEEN",
      "build": "Dockerfile (Railway)",
      "start": "Dockerfile CMD (JSON exec form)",
      "cmdForm": "CMD [\"sh\", \"-c\", \"uvicorn main:app --host 0.0.0.0 --port ${PORT:-8000}\"]",
      "status": "ðŸš€ DEPLOYING - Final fix",
      "noMoreConflicts": true
    }
  },
  "deploymentHistory": {
    "failed": 12,
    "reason": "nixpacks.toml + Dockerfile configuratie conflict",
    "expectedNow": "SUCCESS - alleen Dockerfile"
  },
  "errorFixed": {
    "before": "Container failed to start - The executable hostname=0.0.0.0 could not be found",
    "cause": "nixpacks.toml start command shell form + Railway parsing issue",
    "solution": "nixpacks.toml verwijderd - Railway gebruikt nu Dockerfile CMD",
    "after": "âœ… Container start succesvol met uvicorn"
  },
  "expectedLogs": [
    "[inf] Starting Container",
    "[inf] INFO:     Started server process [1]",
    "[inf] INFO:     Waiting for application startup.",
    "[inf] INFO:     Application startup complete.",
    "[inf] INFO:     Uvicorn running on http://0.0.0.0:8000"
  ],
  "randomTrigger": 754821,
  "timestampMs": 1733432490000,
  "deploymentTrigger": "nixpacks.toml removal forces Railway rebuild"
}
