# DRAAD 208I: Requirements for GREEDY Separate Railway Service
# Modern, compatible dependency versions - httpx>=0.27.0 + supabase>=2.5.1
# Fixed: httpx proxy parameter support + supabase transitive deps alignment
# Date: 2025-12-18

# Web Framework (aligned with baseline services)
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.8.0
pydantic-settings==2.1.0
python-multipart==0.0.18

# Database (MODERN VERSIONS - CRITICAL FIX)
# supabase>=2.5.1 ensures gotrue-py compatibility
supabase>=2.5.1
# NOTE: postgrest-py, realtime-py, postgres-py, python-gotrue are handled by supabase
# Using supabase>=2.5.1 which includes compatible versions internally

# HTTP Client (CRITICAL FIX - proxy parameter support)
# httpx>=0.27.0 supports proxy parameter in Client.__init__()
# httpx 0.25.2 caused: TypeError: got an unexpected keyword argument 'proxy'
httpx>=0.27.0
requests==2.32.4

# Utilities
python-dotenv==1.0.0
pytz==2023.3

# Logging
python-json-logger==2.0.7

# Development (optional, but included for consistency with main service)
black==23.12.0
flake8==6.1.0
pytest==7.4.3
pytest-asyncio==0.21.1

# Monitoring
prometheus-client==0.19.0

# Poetry Lock Support (best practice)
# Run: poetry lock --no-update to generate poetry.lock
