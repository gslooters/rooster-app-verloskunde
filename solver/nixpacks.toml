# Nixpacks Configuration voor Railway Solver Service
# Alternative to Dockerfile - Railway native builder

[phases.setup]
nixPkgs = ['python311', 'gcc', 'gnumake']

[phases.install]
cmds = [
    'pip install --upgrade pip',
    'pip install -r requirements.txt'
]

[phases.build]
cmds = [
    'python -c "import fastapi; print(f'✓ FastAPI {fastapi.__version__}')"',
    'python -c "import uvicorn; print(f'✓ Uvicorn {uvicorn.__version__}')"',
    'python -c "import ortools; print(f'✓ OR-Tools {ortools.__version__}')"'
]

[start]
cmd = 'uvicorn main:app --host 0.0.0.0 --port 8000'

[variables]
PYTHONUNBUFFERED = '1'
PORT = '8000'
