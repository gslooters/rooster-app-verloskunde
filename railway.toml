[build]
# Force clean build - geen cache, Railway versie-resolver fix
command = "npm install && npm run build"

# ðŸ”§ EXPLICIT Node versioning voor Railway compatibility
# FIXED: Was "node-20.18.0" (not found), now "node-20" (LTS)
nixpacks = "node-20"

[deploy]
# ðŸ”¥ CRITICAL FIX: Correct standalone server path
# Gebruik HOSTNAME=0.0.0.0 voor Railway networking
startCommand = "HOSTNAME=0.0.0.0 PORT=$PORT node .next/standalone/server.js"

# Health check
healthcheckPath = "/api/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Cache-busting deployment trigger: 1734184011 (14-12-2025 15:26)
# Force clean rebuild, geen cache collision
