[build]
# Clean build command
command = "npm ci && npm run build"

[deploy]
# Use bash -c wrapper to properly handle environment variable syntax
# Railway does not interpret VAR=value syntax directly in startCommand
startCommand = "bash -c 'HOSTNAME=0.0.0.0 PORT=$PORT node .next/standalone/server.js'"

# Health check
healthcheckPath = "/api/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# STAP 2 FIX: Corrected startCommand shell syntax
# Previous error: "The executable `hostname=0.0.0.0` could not be found"
# Root cause: Railway interprets "VAR=value" prefix as executable name
# Solution: Wrap in bash -c to properly evaluate environment variables
# Updated: 2025-12-15T20:43:00Z
