[build]
# Force clean build - geen cache, Railway versie-resolver fix
command = "npm ci && npm run build"

# ðŸ”§ EXPLICIT Node versioning voor Railway compatibility
# FIXED: Gebruik nixpacks waarvoor LTS Node 20.x beschikbaar is
# Railway Railpack resolves Node 20.x via nixpacks (20.18.0, 20.17.0, etc. automatisch)
nixpacks = "node-20"

[deploy]
# ðŸ”¥ CRITICAL FIX: Correct standalone server path
# Gebruik HOSTNAME=0.0.0.0 voor Railway networking
startCommand = "HOSTNAME=0.0.0.0 PORT=$PORT node .next/standalone/server.js"

# Health check
healthcheckPath = "/api/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Cache-busting deployment trigger: 1734186649 (14-12-2025 15:50:49)
# Force clean rebuild, geen cache collision
