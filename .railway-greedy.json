{
  "$schema": "https://railway.app/schema/railway.json",
  "build": {
    "builder": "dockerfile",
    "buildpack": null,
    "dockerfile": "Dockerfile.greedy"
  },
  "deploy": {
    "startCommand": "python -m uvicorn src.services.greedy_api:app --host 0.0.0.0 --port $PORT",
    "restartPolicy": "on_failure",
    "healthChecks": {
      "liveness": {
        "enabled": true,
        "initialDelaySeconds": 10,
        "periodSeconds": 30,
        "timeoutSeconds": 5,
        "failureThreshold": 3
      },
      "readiness": {
        "enabled": true,
        "initialDelaySeconds": 5,
        "periodSeconds": 10,
        "timeoutSeconds": 5,
        "failureThreshold": 2
      }
    },
    "environmentVariables": {
      "PORT": "8001",
      "ENVIRONMENT": "production",
      "PYTHONUNBUFFERED": "1",
      "GREEDY_ENGINE_MODE": "production"
    },
    "secrets": {
      "SUPABASE_URL": "$SUPABASE_URL",
      "SUPABASE_KEY": "$SUPABASE_KEY"
    }
  },
  "plugins": [],
  "volumes": []
}
